{% extends "config_base.html" %} {# Use base layout #}

{% block page_title %}Set Initial Password{% endblock %}
{% block content_title %}Set Administrator Password{% endblock %}

{% block content %}
<div class="max-w-md mx-auto"> {# Center the form #}
    <div class="config-section password-change-forced"> {# Add highlight border #}
        <p class="text-gray-300 mb-4 text-sm">Please set a new password for the '{{ username | default('admin') }}' user before accessing other configuration pages.</p>
        {# Use blueprint name in url_for #}
        <form action="{{ url_for('config_bp.config_set_initial_password') }}" method="POST">
            <div class="form-group">
                <label for="new_password">New Password</label>
                <input type="password" id="new_password" name="new_password" required class="form-input">
            </div>
            <div class="form-group">
                <label for="confirm_password">Confirm New Password</label>
                <input type="password" id="confirm_password" name="confirm_password" required class="form-input">
            </div>
            <div class="mt-6 text-right">
                 <button type="submit" class="btn btn-warning">Set Initial Password</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block page_js %}
<script>
    // Example: Hide sidebar on this specific page by targeting the <aside> element
    document.querySelector('aside')?.classList.add('hidden');
    // Find the main content area and make it full width if sidebar is hidden
    document.querySelector('main')?.classList.add('w-full');
</script>
{% endblock %}